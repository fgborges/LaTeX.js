// Generated by LiveScript 1.6.0
(function(){
  'use strict';
  var Macros, ref$, diacritics, symbols, makeLengthClass, Generator, out$ = typeof exports != 'undefined' && exports || this, slice$ = [].slice, arrayFrom$ = Array.from || function(x){return slice$.call(x);};
  Macros = require('./latex.ltx').LaTeX;
  ref$ = require('./symbols'), diacritics = ref$.diacritics, symbols = ref$.symbols;
  makeLengthClass = require('./types').makeLengthClass;
  Object.defineProperty(Array.prototype, 'top', {
    enumerable: false,
    configurable: true,
    get: function(){
      return this[this.length - 1];
    },
    set: function(v){
      this[this.length - 1] = v;
    }
  });
  out$.Generator = Generator = (function(){
    Generator.displayName = 'Generator';
    var error, _roman, prototype = Generator.prototype, constructor = Generator;
    Generator.prototype.documentClass = null;
    Generator.prototype.documentTitle = null;
    Generator.prototype._options = null;
    Generator.prototype._macros = null;
    Generator.prototype._stack = null;
    Generator.prototype._groups = null;
    Generator.prototype._continue = false;
    Generator.prototype._labels = null;
    Generator.prototype._refs = null;
    Generator.prototype._counters = null;
    Generator.prototype._resets = null;
    Generator.prototype._marginpars = null;
    Generator.prototype.Length = null;
    Generator.prototype.reset = function(){
      this.Length = makeLengthClass(this);
      this.documentClass = this._options.documentClass;
      this.documentTitle = "untitled";
      this._uid = 1;
      this._macros = {};
      this._curArgs = [];
      this._stack = [{
        attrs: {},
        align: null,
        currentlabel: {
          id: "",
          label: document.createTextNode("")
        },
        lengths: new Map()
      }];
      this._groups = [0];
      this._labels = new Map();
      this._refs = new Map();
      this._marginpars = [];
      this._counters = new Map();
      this._resets = new Map();
      this._continue = false;
      this.newCounter('enumi');
      this.newCounter('enumii');
      this.newCounter('enumiii');
      this.newCounter('enumiv');
      this._macros = new Macros(this, this._options.CustomMacros);
    };
    Generator.prototype.nextId = function(){
      return this._uid++;
    };
    Generator.prototype.round = function(num){
      var factor;
      factor = Math.pow(10, this._options.precision);
      return Math.round(num * factor) / factor;
    };
    error = function(e){
      console.error(e);
      throw new Error(e);
    };
    Generator.prototype.error = function(e){
      error(e);
    };
    Generator.prototype.setErrorFn = function(e){
      error = e;
    };
    Generator.prototype.location = function(){
      error("location function not set!");
    };
    Generator.prototype.setTitle = function(title){
      return this.documentTitle = title.textContent;
    };
    Generator.prototype.hasSymbol = function(name){
      return Macros.symbols.has(name);
    };
    Generator.prototype.symbol = function(name){
      if (!this.hasSymbol(name)) {
        this.error("no such symbol: " + name);
      }
      return Macros.symbols.get(name);
    };
    Generator.prototype.hasMacro = function(name){
      return typeof this._macros[name] === "function" && !deepEq$(name, "constructor", '===') && (this._macros.hasOwnProperty(name) || Macros.prototype.hasOwnProperty(name));
    };
    Generator.prototype.isHmode = function(marco){
      var ref$;
      return ((ref$ = Macros.args[marco]) != null ? ref$[0] : void 8) === 'H' || !Macros.args[marco];
    };
    Generator.prototype.isVmode = function(marco){
      var ref$;
      return ((ref$ = Macros.args[marco]) != null ? ref$[0] : void 8) === 'V';
    };
    Generator.prototype.isHVmode = function(marco){
      var ref$;
      return ((ref$ = Macros.args[marco]) != null ? ref$[0] : void 8) === 'HV';
    };
    Generator.prototype.isPreamble = function(marco){
      var ref$;
      return ((ref$ = Macros.args[marco]) != null ? ref$[0] : void 8) === 'P';
    };
    Generator.prototype.macro = function(name, args){
      var ref$, this$ = this;
      if (symbols.has(name)) {
        return [this.createText(symbols.get(name))];
      }
      return (ref$ = this._macros[name].apply(this._macros, args)) != null ? ref$.filter(function(x){
        return x != undefined;
      }).map(function(x){
        if (typeof x === 'string' || x instanceof String) {
          return this$.createText(x);
        } else {
          return this$.addAttributes(x);
        }
      }) : void 8;
    };
    Generator.prototype.beginArgs = function(macro){
      var that;
      this._curArgs.push((that = Macros.args[macro])
        ? {
          name: macro,
          args: that.slice(1),
          parsed: []
        }
        : {
          args: [],
          parsed: []
        });
    };
    Generator.prototype.nextArg = function(arg){
      if (this._curArgs.top.args[0] === arg) {
        this._curArgs.top.args.shift();
        return true;
      }
    };
    Generator.prototype.argError = function(m){
      return error("macro \\" + this._curArgs.top.name + ": " + m);
    };
    Generator.prototype.addParsedArg = function(a){
      this._curArgs.top.parsed.push(a);
    };
    Generator.prototype.parsedArgs = function(){
      return this._curArgs.top.parsed;
    };
    Generator.prototype.preExecMacro = function(){
      this.macro(this._curArgs.top.name, this.parsedArgs());
    };
    Generator.prototype.endArgs = function(){
      var x$;
      x$ = this._curArgs.pop();
      x$.args.length === 0 || error("grammar error: arguments for " + x$.name + " have not been parsed: " + x$.args);
      return x$.parsed;
    };
    Generator.prototype.begin = function(env_id){
      if (!this.hasMacro(env_id)) {
        error("unknown environment: " + env_id);
      }
      this.startBalanced();
      this.enterGroup();
      this.beginArgs(env_id);
    };
    Generator.prototype.end = function(id, end_id){
      var end;
      if (id !== end_id) {
        error("environment '" + id + "' is missing its end, found '" + end_id + "' instead");
      }
      if (this.hasMacro("end" + id)) {
        end = this.macro("end" + id);
      }
      this.exitGroup();
      this.isBalanced() || error(id + ": groups need to be balanced in environments!");
      this.endBalanced();
      return end;
    };
    Generator.prototype.enterGroup = function(copyAttrs){
      copyAttrs == null && (copyAttrs = false);
      this._stack.push({
        attrs: copyAttrs
          ? Object.assign({}, this._stack.top.attrs)
          : {},
        align: null,
        currentlabel: Object.assign({}, this._stack.top.currentlabel),
        lengths: new Map(this._stack.top.lengths)
      });
      ++this._groups.top;
    };
    Generator.prototype.exitGroup = function(){
      --this._groups.top >= 0 || error("there is no group to end here");
      this._stack.pop();
    };
    Generator.prototype.startBalanced = function(){
      this._groups.push(0);
    };
    Generator.prototype.endBalanced = function(){
      this._groups.pop();
      return this._groups.length;
    };
    Generator.prototype.isBalanced = function(){
      return this._groups.top === 0;
    };
    Generator.prototype['continue'] = function(){
      this._continue = this.location().end.offset;
    };
    Generator.prototype['break'] = function(){
      if (this.location().end.offset > this._continue) {
        this._continue = false;
      }
    };
    Generator.prototype.setAlignment = function(align){
      this._stack.top.align = align;
    };
    Generator.prototype.alignment = function(){
      return this._stack.top.align;
    };
    Generator.prototype.setFontFamily = function(family){
      this._stack.top.attrs.fontFamily = family;
    };
    Generator.prototype.setFontWeight = function(weight){
      this._stack.top.attrs.fontWeight = weight;
    };
    Generator.prototype.setFontShape = function(shape){
      if (shape === "em") {
        if (this._activeAttributeValue("fontShape") === "it") {
          shape = "up";
        } else {
          shape = "it";
        }
      }
      this._stack.top.attrs.fontShape = shape;
    };
    Generator.prototype.setFontSize = function(size){
      this._stack.top.attrs.fontSize = size;
    };
    Generator.prototype.setTextDecoration = function(decoration){
      this._stack.top.attrs.textDecoration = decoration;
    };
    Generator.prototype._inlineAttributes = function(){
      var cur;
      cur = this._stack.top.attrs;
      return [cur.fontFamily, cur.fontWeight, cur.fontShape, cur.fontSize, cur.textDecoration].join(' ').replace(/\s+/g, ' ').trim();
    };
    Generator.prototype._activeAttributeValue = function(attr){
      var i$, level, that;
      for (i$ = this._stack.length - 1; i$ >= 0; --i$) {
        level = i$;
        if (that = this._stack[level].attrs[attr]) {
          return that;
        }
      }
    };
    Generator.prototype.startsection = function(sec, level, star, toc, ttl){
      var chaphead, el, ref$;
      if (toc == ttl && ttl == undefined) {
        if (!star && this.counter("secnumdepth") >= level) {
          this.stepCounter(sec);
          this.refCounter(sec, "sec-" + this.nextId());
        }
        return;
      }
      if (!star && this.counter("secnumdepth") >= level) {
        if (sec === 'chapter') {
          chaphead = this.create(this.block, this.macro('chaptername').concat(this.createText(this.symbol('space')), this.macro('the' + sec)));
          el = this.create(this[sec], [chaphead, ttl]);
        } else {
          el = this.create(this[sec], this.macro('the' + sec).concat(this.createText(this.symbol('quad')), ttl));
        }
        if ((ref$ = this._stack.top.currentlabel.id) != null) {
          el.id = ref$;
        }
      } else {
        el = this.create(this[sec], ttl);
      }
      return el;
    };
    Generator.prototype.startlist = function(){
      this.stepCounter('@listdepth');
      if (this.counter('@listdepth') > 6) {
        error("too deeply nested");
      }
      return true;
    };
    Generator.prototype.endlist = function(){
      this.setCounter('@listdepth', this.counter('@listdepth') - 1);
      this['continue']();
    };
    Generator.prototype.newLength = function(l){
      if (this.hasLength(l)) {
        error("length " + l + " already defined!");
      }
      this._stack.top.lengths.set(l, this.Length.zero);
    };
    Generator.prototype.hasLength = function(l){
      return this._stack.top.lengths.has(l);
    };
    Generator.prototype.setLength = function(id, length){
      if (!this.hasLength(id)) {
        error("no such length: " + id);
      }
      this._stack.top.lengths.set(id, length);
    };
    Generator.prototype.length = function(l){
      if (!this.hasLength(l)) {
        error("no such length: " + l);
      }
      return this._stack.top.lengths.get(l);
    };
    Generator.prototype.theLength = function(id){
      var l;
      l = this.create(this.inline, undefined, "the");
      l.setAttribute("display-var", id);
      return l;
    };
    Generator.prototype.newCounter = function(c, parent){
      if (this.hasCounter(c)) {
        error("counter " + c + " already defined!");
      }
      this._counters.set(c, 0);
      this._resets.set(c, []);
      if (parent) {
        this.addToReset(c, parent);
      }
      if (this.hasMacro('the' + c)) {
        error("macro \\the" + c + " already defined!");
      }
      this._macros['the' + c] = function(){
        return [this.g.arabic(this.g.counter(c))];
      };
    };
    Generator.prototype.hasCounter = function(c){
      return this._counters.has(c);
    };
    Generator.prototype.setCounter = function(c, v){
      if (!this.hasCounter(c)) {
        error("no such counter: " + c);
      }
      this._counters.set(c, v);
    };
    Generator.prototype.stepCounter = function(c){
      this.setCounter(c, this.counter(c) + 1);
      this.clearCounter(c);
    };
    Generator.prototype.counter = function(c){
      if (!this.hasCounter(c)) {
        error("no such counter: " + c);
      }
      return this._counters.get(c);
    };
    Generator.prototype.refCounter = function(c, id){
      var el;
      if (!id) {
        id = c + "-" + this.nextId();
        el = this.create(this.anchor(id));
      }
      this._stack.top.currentlabel = {
        id: id,
        label: this.createFragment(arrayFrom$(this.hasMacro('p@' + c)
          ? this.macro('p@' + c)
          : []).concat(arrayFrom$(this.macro('the' + c))))
      };
      return el;
    };
    Generator.prototype.addToReset = function(c, parent){
      if (!this.hasCounter(parent)) {
        error("no such counter: " + parent);
      }
      if (!this.hasCounter(c)) {
        error("no such counter: " + c);
      }
      this._resets.get(parent).push(c);
    };
    Generator.prototype.clearCounter = function(c){
      var i$, ref$, len$, r;
      for (i$ = 0, len$ = (ref$ = this._resets.get(c)).length; i$ < len$; ++i$) {
        r = ref$[i$];
        this.clearCounter(r);
        this.setCounter(r, 0);
      }
    };
    Generator.prototype.alph = function(num){
      return String.fromCharCode(96 + num);
    };
    Generator.prototype.Alph = function(num){
      return String.fromCharCode(64 + num);
    };
    Generator.prototype.arabic = function(num){
      return String(num);
    };
    Generator.prototype.roman = function(num){
      var lookup;
      lookup = [['m', 1000], ['cm', 900], ['d', 500], ['cd', 400], ['c', 100], ['xc', 90], ['l', 50], ['xl', 40], ['x', 10], ['ix', 9], ['v', 5], ['iv', 4], ['i', 1]];
      return _roman(num, lookup);
    };
    Generator.prototype.Roman = function(num){
      var lookup;
      lookup = [['M', 1000], ['CM', 900], ['D', 500], ['CD', 400], ['C', 100], ['XC', 90], ['L', 50], ['XL', 40], ['X', 10], ['IX', 9], ['V', 5], ['IV', 4], ['I', 1]];
      return _roman(num, lookup);
    };
    _roman = function(num, lookup){
      var roman, i$, len$, i;
      roman = "";
      for (i$ = 0, len$ = lookup.length; i$ < len$; ++i$) {
        i = lookup[i$];
        while (num >= i[1]) {
          roman += i[0];
          num -= i[1];
        }
      }
      return roman;
    };
    Generator.prototype.fnsymbol = function(num){
      switch (num) {
      case 1:
        return this.symbol('textasteriskcentered');
      case 2:
        return this.symbol('textdagger');
      case 3:
        return this.symbol('textdaggerdbl');
      case 4:
        return this.symbol('textsection');
      case 5:
        return this.symbol('textparagraph');
      case 6:
        return this.symbol('textbardbl');
      case 7:
        return this.symbol('textasteriskcentered') + this.symbol('textasteriskcentered');
      case 8:
        return this.symbol('textdagger') + this.symbol('textdagger');
      case 9:
        return this.symbol('textdaggerdbl') + this.symbol('textdaggerdbl');
      default:
        return error("fnsymbol value must be between 1 and 9");
      }
    };
    Generator.prototype.setLabel = function(label){
      var i$, ref$, len$, r;
      if (this._labels.has(label)) {
        error("label " + label + " already defined!");
      }
      if (!this._stack.top.currentlabel.id) {
        console.warn("warning: no \\@currentlabel available for label " + label + "!");
      }
      this._labels.set(label, this._stack.top.currentlabel);
      if (this._refs.has(label)) {
        for (i$ = 0, len$ = (ref$ = this._refs.get(label)).length; i$ < len$; ++i$) {
          r = ref$[i$];
          while (r.firstChild) {
            r.removeChild(r.firstChild);
          }
          r.appendChild(this._stack.top.currentlabel.label.cloneNode(true));
          r.setAttribute("href", "#" + this._stack.top.currentlabel.id);
        }
        this._refs['delete'](label);
      }
    };
    Generator.prototype.ref = function(label){
      var that, el;
      if (that = this._labels.get(label)) {
        return this.create(this.link("#" + that.id), that.label.cloneNode(true));
      }
      el = this.create(this.link("#"), this.createText("??"));
      if (!this._refs.has(label)) {
        this._refs.set(label, [el]);
      } else {
        this._refs.get(label).push(el);
      }
      return el;
    };
    Generator.prototype.logUndefinedRefs = function(){
      var keys, ref;
      if (this._refs.size === 0) {
        return;
      }
      keys = this._refs.keys();
      while (!(ref = keys.next()).done) {
        console.warn("warning: reference '" + ref.value + "' undefined");
      }
      console.warn("There were undefined references.");
    };
    Generator.prototype.marginpar = function(txt){
      var id, marginPar, marginRef;
      id = this.nextId();
      marginPar = this.create(this.block, [this.create(this.inline, null, "mpbaseline"), txt]);
      marginPar.id = id;
      this._marginpars.push(marginPar);
      marginRef = this.create(this.inline, null, "mpbaseline");
      marginRef.id = "marginref-" + id;
      return marginRef;
    };
    function Generator(){}
    return Generator;
  }());
  function deepEq$(x, y, type){
    var toString = {}.toString, hasOwnProperty = {}.hasOwnProperty,
        has = function (obj, key) { return hasOwnProperty.call(obj, key); };
    var first = true;
    return eq(x, y, []);
    function eq(a, b, stack) {
      var className, length, size, result, alength, blength, r, key, ref, sizeB;
      if (a == null || b == null) { return a === b; }
      if (a.__placeholder__ || b.__placeholder__) { return true; }
      if (a === b) { return a !== 0 || 1 / a == 1 / b; }
      className = toString.call(a);
      if (toString.call(b) != className) { return false; }
      switch (className) {
        case '[object String]': return a == String(b);
        case '[object Number]':
          return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);
        case '[object Date]':
        case '[object Boolean]':
          return +a == +b;
        case '[object RegExp]':
          return a.source == b.source &&
                 a.global == b.global &&
                 a.multiline == b.multiline &&
                 a.ignoreCase == b.ignoreCase;
      }
      if (typeof a != 'object' || typeof b != 'object') { return false; }
      length = stack.length;
      while (length--) { if (stack[length] == a) { return true; } }
      stack.push(a);
      size = 0;
      result = true;
      if (className == '[object Array]') {
        alength = a.length;
        blength = b.length;
        if (first) {
          switch (type) {
          case '===': result = alength === blength; break;
          case '<==': result = alength <= blength; break;
          case '<<=': result = alength < blength; break;
          }
          size = alength;
          first = false;
        } else {
          result = alength === blength;
          size = alength;
        }
        if (result) {
          while (size--) {
            if (!(result = size in a == size in b && eq(a[size], b[size], stack))){ break; }
          }
        }
      } else {
        if ('constructor' in a != 'constructor' in b || a.constructor != b.constructor) {
          return false;
        }
        for (key in a) {
          if (has(a, key)) {
            size++;
            if (!(result = has(b, key) && eq(a[key], b[key], stack))) { break; }
          }
        }
        if (result) {
          sizeB = 0;
          for (key in b) {
            if (has(b, key)) { ++sizeB; }
          }
          if (first) {
            if (type === '<<=') {
              result = size < sizeB;
            } else if (type === '<==') {
              result = size <= sizeB
            } else {
              result = size === sizeB;
            }
          } else {
            first = false;
            result = size === sizeB;
          }
        }
      }
      stack.pop();
      return result;
    }
  }
}).call(this);

//# sourceMappingURL=data:application/json;base64,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OztNQUVaLE9BQU8sQ0FBQyxLQUF1QyxrQ0FBQTs7d0JBS25ELFlBQVcsUUFBQSxDQUFBLEdBQUE7O01BQ1AsRUFBRyxDQUFBLENBQUEsQ0FBRSxJQUFDLENBQUEsT0FBTTtNQUVaLFNBQVUsQ0FBQSxDQUFBLENBQUUsSUFBQyxDQUFBLE9BQU8sSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFDLENBQUEsT0FBTyxJQUFDLENBQUEsUUFBUSxNQUFrQixZQUE1QixHQUErQixHQUF2QyxDQUFSO01BQ3BCLFNBQVMsQ0FBQyxFQUFHLENBQUEsQ0FBQSxDQUFFO01BRWYsSUFBQyxDQUFBLFdBQVcsQ0FBQyxLQUFLLFNBQUE7TUFFbEIsU0FBVSxDQUFBLENBQUEsQ0FBRSxJQUFDLENBQUEsT0FBTyxJQUFDLENBQUEsUUFBUSxNQUFrQixZQUEzQjtNQUNwQixTQUFTLENBQUMsRUFBRyxDQUFBLENBQUEsQ0FBYyxZQUFDLENBQUEsQ0FBQSxDQUFFO2FBRTlCIiwiZmlsZSI6ImdlbmVyYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5yZXF1aXJlISB7XG4gICAgJy4vbGF0ZXgubHR4JzogeyBMYVRlWDogTWFjcm9zIH1cbiAgICAnLi9zeW1ib2xzJzogeyBkaWFjcml0aWNzLCBzeW1ib2xzIH1cbiAgICAnLi90eXBlcyc6IHsgbWFrZUxlbmd0aENsYXNzIH1cbn1cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkgQXJyYXkucHJvdG90eXBlLCAndG9wJyxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIGdldDogLT4gQFsqIC0gMV1cbiAgICBzZXQ6ICh2KSAhLT4gQFsqIC0gMV0gPSB2XG5cblxuZXhwb3J0IGNsYXNzIEdlbmVyYXRvclxuXG4gICAgIyMjIHB1YmxpYyBpbnN0YW5jZSB2YXJzICh2YXJzIGJlZ2lubmluZyB3aXRoIFwiX1wiIGFyZSBtZWFudCB0byBiZSBwcml2YXRlISlcblxuICAgIGRvY3VtZW50Q2xhc3M6IG51bGwgICAgICMgbmFtZSBvZiB0aGUgZGVmYXVsdCBkb2N1bWVudCBjbGFzcyB1bnRpbCBcXGRvY3VtZW50Y2xhc3N7fSwgdGhlbiB0aGUgYWN0dWFsIGNsYXNzIGluc3RhbmNlXG4gICAgZG9jdW1lbnRUaXRsZTogbnVsbFxuXG4gICAgIyBpbml0aWFsaXplIG9ubHkgaW4gQ1RPUiwgb3RoZXJ3aXNlIHRoZSBvYmplY3RzIGVuZCB1cCBpbiB0aGUgcHJvdG90eXBlXG4gICAgX29wdGlvbnM6IG51bGxcbiAgICBfbWFjcm9zOiBudWxsXG5cbiAgICBfc3RhY2s6IG51bGxcbiAgICBfZ3JvdXBzOiBudWxsXG5cbiAgICBfY29udGludWU6IGZhbHNlXG5cbiAgICBfbGFiZWxzOiBudWxsXG4gICAgX3JlZnM6IG51bGxcblxuICAgIF9jb3VudGVyczogbnVsbFxuICAgIF9yZXNldHM6IG51bGxcblxuICAgIF9tYXJnaW5wYXJzOiBudWxsXG5cbiAgICBMZW5ndGg6IG51bGxcblxuICAgIHJlc2V0OiAhLT5cbiAgICAgICAgQExlbmd0aCA9IG1ha2VMZW5ndGhDbGFzcyBAXG5cbiAgICAgICAgQGRvY3VtZW50Q2xhc3MgPSBAX29wdGlvbnMuZG9jdW1lbnRDbGFzc1xuICAgICAgICBAZG9jdW1lbnRUaXRsZSA9IFwidW50aXRsZWRcIlxuXG4gICAgICAgIEBfdWlkID0gMVxuXG4gICAgICAgIEBfbWFjcm9zID0ge31cbiAgICAgICAgQF9jdXJBcmdzID0gW10gICMgc3RhY2sgb2YgYXJndW1lbnQgZGVjbGFyYXRpb25zXG5cbiAgICAgICAgIyBzdGFjayBmb3IgbG9jYWwgdmFyaWFibGVzIGFuZCBhdHRyaWJ1dGVzIC0gZW50ZXJpbmcgYSBncm91cCBhZGRzIGFub3RoZXIgZW50cnksXG4gICAgICAgICMgbGVhdmluZyBhIGdyb3VwIHJlbW92ZXMgdGhlIHRvcCBlbnRyeVxuICAgICAgICBAX3N0YWNrID0gW1xuICAgICAgICAgICAgYXR0cnM6IHt9XG4gICAgICAgICAgICBhbGlnbjogbnVsbFxuICAgICAgICAgICAgY3VycmVudGxhYmVsOlxuICAgICAgICAgICAgICAgIGlkOiBcIlwiXG4gICAgICAgICAgICAgICAgbGFiZWw6IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlIFwiXCJcbiAgICAgICAgICAgIGxlbmd0aHM6IG5ldyBNYXAoKVxuICAgICAgICBdXG5cbiAgICAgICAgIyBncm91cGluZyBzdGFjaywga2VlcHMgdHJhY2sgb2YgZGlmZmVyZW5jZSBiZXR3ZWVuIG9wZW5pbmcgYW5kIGNsb3NpbmcgYnJhY2tldHNcbiAgICAgICAgQF9ncm91cHMgPSBbIDAgXVxuXG4gICAgICAgIEBfbGFiZWxzID0gbmV3IE1hcCgpXG4gICAgICAgIEBfcmVmcyA9IG5ldyBNYXAoKVxuXG4gICAgICAgIEBfbWFyZ2lucGFycyA9IFtdXG5cbiAgICAgICAgQF9jb3VudGVycyA9IG5ldyBNYXAoKVxuICAgICAgICBAX3Jlc2V0cyA9IG5ldyBNYXAoKVxuXG4gICAgICAgIEBfY29udGludWUgPSBmYWxzZVxuXG4gICAgICAgIEBuZXdDb3VudGVyIFxcZW51bWlcbiAgICAgICAgQG5ld0NvdW50ZXIgXFxlbnVtaWlcbiAgICAgICAgQG5ld0NvdW50ZXIgXFxlbnVtaWlpXG4gICAgICAgIEBuZXdDb3VudGVyIFxcZW51bWl2XG5cbiAgICAgICAgIyBkbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBzZWN0aW9uaW5nIGNvdW50ZXJzIGJlY2F1c2UgXFx0aGVwYXJ0IGV0Yy4gYXJlIGFscmVhZHkgcHJlZGVmaW5lZFxuICAgICAgICBAX21hY3JvcyA9IG5ldyBNYWNyb3MgQCwgQF9vcHRpb25zLkN1c3RvbU1hY3Jvc1xuXG5cbiAgICAjIGhlbHBlcnNcblxuICAgIG5leHRJZDogLT5cbiAgICAgICAgQF91aWQrK1xuXG4gICAgcm91bmQ6IChudW0pIC0+XG4gICAgICAgIGNvbnN0IGZhY3RvciA9IE1hdGgucG93IDEwLCBAX29wdGlvbnMucHJlY2lzaW9uXG4gICAgICAgIE1hdGgucm91bmQobnVtICogZmFjdG9yKSAvIGZhY3RvclxuXG5cblxuICAgICMgcHJpdmF0ZSBzdGF0aWMgZm9yIGVhc3kgYWNjZXNzIC0gYnV0IGl0IG1lYW5zIG5vIHBhcmFsbGVsIGdlbmVyYXRvciB1c2FnZSFcbiAgICBlcnJvciA9IChlKSAhLT5cbiAgICAgICAgY29uc29sZS5lcnJvciBlXG4gICAgICAgIHRocm93IG5ldyBFcnJvciBlXG5cbiAgICBlcnJvcjogKGUpICEtPiBlcnJvciBlXG5cbiAgICBzZXRFcnJvckZuOiAoZSkgIS0+XG4gICAgICAgIGVycm9yIDo9IGVcblxuXG4gICAgbG9jYXRpb246ICEtPiBlcnJvciBcImxvY2F0aW9uIGZ1bmN0aW9uIG5vdCBzZXQhXCJcblxuXG5cbiAgICAjIHNldCB0aGUgdGl0bGUgb2YgdGhlIGRvY3VtZW50LCB1c3VhbGx5IGNhbGxlZCBieSB0aGUgXFxtYWtldGl0bGUgbWFjcm9cbiAgICBzZXRUaXRsZTogKHRpdGxlKSAtPlxuICAgICAgICBAZG9jdW1lbnRUaXRsZSA9IHRpdGxlLnRleHRDb250ZW50XG5cblxuXG4gICAgIyMjIGNoYXJhY3RlcnNcblxuICAgIGhhc1N5bWJvbDogKG5hbWUpIC0+XG4gICAgICAgIE1hY3Jvcy5zeW1ib2xzLmhhcyBuYW1lXG5cbiAgICBzeW1ib2w6IChuYW1lKSAtPlxuICAgICAgICBAZXJyb3IgXCJubyBzdWNoIHN5bWJvbDogI3tuYW1lfVwiIGlmIG5vdCBAaGFzU3ltYm9sIG5hbWVcbiAgICAgICAgTWFjcm9zLnN5bWJvbHMuZ2V0IG5hbWVcblxuXG5cbiAgICAjIyMgbWFjcm9zXG5cbiAgICBoYXNNYWNybzogKG5hbWUpIC0+XG4gICAgICAgIHR5cGVvZiBAX21hY3Jvc1tuYW1lXSA9PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgYW5kIG5hbWUgIT09IFwiY29uc3RydWN0b3JcIlxuICAgICAgICBhbmQgKEBfbWFjcm9zLmhhc093blByb3BlcnR5IG5hbWUgb3IgTWFjcm9zLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSBuYW1lKVxuXG5cbiAgICBpc0htb2RlOiAgICAobWFyY28pIC0+IE1hY3Jvcy5hcmdzW21hcmNvXT8uMCA9PSBcXEggIG9yIG5vdCBNYWNyb3MuYXJnc1ttYXJjb11cbiAgICBpc1Ztb2RlOiAgICAobWFyY28pIC0+IE1hY3Jvcy5hcmdzW21hcmNvXT8uMCA9PSBcXFZcbiAgICBpc0hWbW9kZTogICAobWFyY28pIC0+IE1hY3Jvcy5hcmdzW21hcmNvXT8uMCA9PSBcXEhWXG4gICAgaXNQcmVhbWJsZTogKG1hcmNvKSAtPiBNYWNyb3MuYXJnc1ttYXJjb10/LjAgPT0gXFxQXG5cbiAgICBtYWNybzogKG5hbWUsIGFyZ3MpIC0+XG4gICAgICAgIGlmIHN5bWJvbHMuaGFzIG5hbWVcbiAgICAgICAgICAgIHJldHVybiBbIEBjcmVhdGVUZXh0IHN5bWJvbHMuZ2V0IG5hbWUgXVxuXG4gICAgICAgIEBfbWFjcm9zW25hbWVdXG4gICAgICAgICAgICAuYXBwbHkgQF9tYWNyb3MsIGFyZ3NcbiAgICAgICAgICAgID8uZmlsdGVyICh4KSAtPiB4ICF+PSB1bmRlZmluZWRcbiAgICAgICAgICAgIC5tYXAgKHgpIH4+IGlmIHR5cGVvZiB4ID09ICdzdHJpbmcnIG9yIHggaW5zdGFuY2VvZiBTdHJpbmcgdGhlbiBAY3JlYXRlVGV4dCB4IGVsc2UgQGFkZEF0dHJpYnV0ZXMgeFxuXG5cbiAgICAjIG1hY3JvIGFyZ3VtZW50c1xuXG4gICAgYmVnaW5BcmdzOiAobWFjcm8pICEtPlxuICAgICAgICBAX2N1ckFyZ3MucHVzaCBpZiBNYWNyb3MuYXJnc1ttYWNyb11cbiAgICAgICAgICAgIHRoZW4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IG1hY3JvXG4gICAgICAgICAgICAgICAgYXJnczogdGhhdC5zbGljZSgxKVxuICAgICAgICAgICAgICAgIHBhcnNlZDogW11cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJnczogW11cbiAgICAgICAgICAgICAgICBwYXJzZWQ6IFtdXG4gICAgICAgICAgICB9XG5cbiAgICAjIGNoZWNrIHRoZSBuZXh0IGFyZ3VtZW50IHR5cGUgdG8gcGFyc2VcbiAgICBuZXh0QXJnOiAoYXJnKSAtPlxuICAgICAgICBpZiBAX2N1ckFyZ3MudG9wLmFyZ3MuMCA9PSBhcmdcbiAgICAgICAgICAgIEBfY3VyQXJncy50b3AuYXJncy5zaGlmdCFcbiAgICAgICAgICAgIHRydWVcblxuICAgIGFyZ0Vycm9yOiAobSkgLT5cbiAgICAgICAgZXJyb3IgXCJtYWNybyBcXFxcI3tAX2N1ckFyZ3MudG9wLm5hbWV9OiAje219XCJcblxuICAgICMgYWRkIHRoZSByZXN1bHQgb2YgYSBwYXJzZWQgYXJndW1lbnRcbiAgICBhZGRQYXJzZWRBcmc6IChhKSAhLT5cbiAgICAgICAgQF9jdXJBcmdzLnRvcC5wYXJzZWQucHVzaCBhXG5cbiAgICAjIGdldCB0aGUgcGFyc2VkIGFyZ3VtZW50cyBzbyBmYXJcbiAgICBwYXJzZWRBcmdzOiAtPlxuICAgICAgICBAX2N1ckFyZ3MudG9wLnBhcnNlZFxuXG4gICAgIyBleGVjdXRlIG1hY3JvIHdpdGggcGFyc2VkIGFyZ3VtZW50cyBzbyBmYXJcbiAgICBwcmVFeGVjTWFjcm86ICEtPlxuICAgICAgICBAbWFjcm8gQF9jdXJBcmdzLnRvcC5uYW1lLCBAcGFyc2VkQXJncyFcblxuICAgICMgcmVtb3ZlIGFyZ3VtZW50cyBvZiBhIGNvbXBsZXRlbHkgcGFyc2VkIG1hY3JvIGZyb20gdGhlIHN0YWNrXG4gICAgZW5kQXJnczogIS0+XG4gICAgICAgIEBfY3VyQXJncy5wb3AhXG4gICAgICAgICAgICAuLmFyZ3MubGVuZ3RoID09IDAgfHwgZXJyb3IgXCJncmFtbWFyIGVycm9yOiBhcmd1bWVudHMgZm9yICN7Li5uYW1lfSBoYXZlIG5vdCBiZWVuIHBhcnNlZDogI3suLmFyZ3N9XCJcbiAgICAgICAgICAgIHJldHVybiAuLnBhcnNlZFxuXG5cbiAgICAjIyMgZW52aXJvbm1lbnRzXG5cbiAgICBiZWdpbjogKGVudl9pZCkgIS0+XG4gICAgICAgIGlmIG5vdCBAaGFzTWFjcm8gZW52X2lkXG4gICAgICAgICAgICBlcnJvciBcInVua25vd24gZW52aXJvbm1lbnQ6ICN7ZW52X2lkfVwiXG5cbiAgICAgICAgQHN0YXJ0QmFsYW5jZWQhXG4gICAgICAgIEBlbnRlckdyb3VwIVxuICAgICAgICBAYmVnaW5BcmdzIGVudl9pZFxuXG5cbiAgICBlbmQ6IChpZCwgZW5kX2lkKSAtPlxuICAgICAgICBpZiBpZCAhPSBlbmRfaWRcbiAgICAgICAgICAgIGVycm9yIFwiZW52aXJvbm1lbnQgJyN7aWR9JyBpcyBtaXNzaW5nIGl0cyBlbmQsIGZvdW5kICcje2VuZF9pZH0nIGluc3RlYWRcIlxuXG4gICAgICAgIGlmIEBoYXNNYWNybyBcImVuZFwiICsgaWRcbiAgICAgICAgICAgIGVuZCA9IEBtYWNybyBcImVuZFwiICsgaWRcblxuICAgICAgICBAZXhpdEdyb3VwIVxuICAgICAgICBAaXNCYWxhbmNlZCEgb3IgZXJyb3IgXCIje2lkfTogZ3JvdXBzIG5lZWQgdG8gYmUgYmFsYW5jZWQgaW4gZW52aXJvbm1lbnRzIVwiXG4gICAgICAgIEBlbmRCYWxhbmNlZCFcblxuICAgICAgICBlbmRcblxuXG5cbiAgICAjIyMgZ3JvdXBzXG5cbiAgICAjIHN0YXJ0IGEgbmV3IGdyb3VwXG4gICAgZW50ZXJHcm91cDogKGNvcHlBdHRycyA9IGZhbHNlKSAhLT5cbiAgICAgICAgIyBzaGFsbG93IGNvcHkgb2YgdGhlIGNvbnRlbnRzIG9mIHRvcCBpcyBlbm91Z2ggYmVjYXVzZSB3ZSBkb24ndCBjaGFuZ2UgdGhlIGVsZW1lbnRzLCBvbmx5IHRoZSBhcnJheSBhbmQgdGhlIG1hcHNcbiAgICAgICAgQF9zdGFjay5wdXNoIHtcbiAgICAgICAgICAgIGF0dHJzOiBpZiBjb3B5QXR0cnMgdGhlbiBPYmplY3QuYXNzaWduIHt9LCBAX3N0YWNrLnRvcC5hdHRycyBlbHNlIHt9XG4gICAgICAgICAgICBhbGlnbjogbnVsbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGFsaWdubWVudCBpcyBzZXQgb25seSBwZXIgbGV2ZWwgd2hlcmUgaXQgd2FzIGNoYW5nZWRcbiAgICAgICAgICAgIGN1cnJlbnRsYWJlbDogT2JqZWN0LmFzc2lnbiB7fSwgQF9zdGFjay50b3AuY3VycmVudGxhYmVsXG4gICAgICAgICAgICBsZW5ndGhzOiBuZXcgTWFwKEBfc3RhY2sudG9wLmxlbmd0aHMpXG4gICAgICAgIH1cbiAgICAgICAgKytAX2dyb3Vwcy50b3BcblxuICAgICMgZW5kIHRoZSBsYXN0IGdyb3VwIC0gdGhyb3dzIGlmIHRoZXJlIHdhcyBubyBncm91cCB0byBlbmRcbiAgICBleGl0R3JvdXA6ICEtPlxuICAgICAgICAtLUBfZ3JvdXBzLnRvcCA+PSAwIHx8IGVycm9yIFwidGhlcmUgaXMgbm8gZ3JvdXAgdG8gZW5kIGhlcmVcIlxuICAgICAgICBAX3N0YWNrLnBvcCFcblxuICAgICMgc3RhcnQgYSBuZXcgbGV2ZWwgb2YgZ3JvdXBpbmdcbiAgICBzdGFydEJhbGFuY2VkOiAhLT5cbiAgICAgICAgQF9ncm91cHMucHVzaCAwXG5cbiAgICAjIGV4aXQgYSBsZXZlbCBvZiBncm91cGluZyBhbmQgcmV0dXJuIHRoZSBsZXZlbHMgb2YgYmFsYW5jaW5nIHN0aWxsIGxlZnRcbiAgICBlbmRCYWxhbmNlZDogLT5cbiAgICAgICAgQF9ncm91cHMucG9wIVxuICAgICAgICBAX2dyb3Vwcy5sZW5ndGhcblxuICAgICMgY2hlY2sgaWYgdGhlIGN1cnJlbnQgbGV2ZWwgb2YgZ3JvdXBpbmcgaXMgYmFsYW5jZWRcbiAgICBpc0JhbGFuY2VkOiAtPlxuICAgICAgICBAX2dyb3Vwcy50b3AgPT0gMFxuXG5cbiAgICAjIyMgYXR0cmlidXRlcyAtIGluIEhUTUwsIHRob3NlIGFyZSBDU1MgY2xhc3Nlc1xuXG4gICAgY29udGludWU6ICEtPlxuICAgICAgICBAX2NvbnRpbnVlID0gQGxvY2F0aW9uIS5lbmQub2Zmc2V0XG5cbiAgICBicmVhazogIS0+XG4gICAgICAgICMgb25seSByZWNvcmQgdGhlIGJyZWFrIGlmIGl0IGNhbWUgZnJvbSBhIHBvc2l0aW9uIEFGVEVSIHRoZSBjb250aW51ZVxuICAgICAgICBpZiBAbG9jYXRpb24hLmVuZC5vZmZzZXQgPiBAX2NvbnRpbnVlXG4gICAgICAgICAgICBAX2NvbnRpbnVlID0gZmFsc2VcblxuXG4gICAgIyBhbGlnbm1lbnRcblxuICAgIHNldEFsaWdubWVudDogKGFsaWduKSAhLT5cbiAgICAgICAgQF9zdGFjay50b3AuYWxpZ24gPSBhbGlnblxuXG4gICAgYWxpZ25tZW50OiAtPlxuICAgICAgICBAX3N0YWNrLnRvcC5hbGlnblxuXG5cbiAgICAjIGZvbnQgYXR0cmlidXRlc1xuXG4gICAgc2V0Rm9udEZhbWlseTogKGZhbWlseSkgIS0+XG4gICAgICAgIEBfc3RhY2sudG9wLmF0dHJzLmZvbnRGYW1pbHkgPSBmYW1pbHlcblxuICAgIHNldEZvbnRXZWlnaHQ6ICh3ZWlnaHQpICEtPlxuICAgICAgICBAX3N0YWNrLnRvcC5hdHRycy5mb250V2VpZ2h0ID0gd2VpZ2h0XG5cbiAgICBzZXRGb250U2hhcGU6IChzaGFwZSkgIS0+XG4gICAgICAgIGlmIHNoYXBlID09IFwiZW1cIlxuICAgICAgICAgICAgaWYgQF9hY3RpdmVBdHRyaWJ1dGVWYWx1ZShcImZvbnRTaGFwZVwiKSA9PSBcIml0XCJcbiAgICAgICAgICAgICAgICBzaGFwZSA9IFwidXBcIlxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNoYXBlID0gXCJpdFwiXG5cbiAgICAgICAgQF9zdGFjay50b3AuYXR0cnMuZm9udFNoYXBlID0gc2hhcGVcblxuICAgIHNldEZvbnRTaXplOiAoc2l6ZSkgIS0+XG4gICAgICAgIEBfc3RhY2sudG9wLmF0dHJzLmZvbnRTaXplID0gc2l6ZVxuXG4gICAgc2V0VGV4dERlY29yYXRpb246IChkZWNvcmF0aW9uKSAhLT5cbiAgICAgICAgQF9zdGFjay50b3AuYXR0cnMudGV4dERlY29yYXRpb24gPSBkZWNvcmF0aW9uXG5cblxuICAgICMgZ2V0IGFsbCBpbmxpbmUgYXR0cmlidXRlcyBvZiB0aGUgY3VycmVudCBncm91cFxuICAgIF9pbmxpbmVBdHRyaWJ1dGVzOiAtPlxuICAgICAgICBjdXIgPSBAX3N0YWNrLnRvcC5hdHRyc1xuICAgICAgICBbY3VyLmZvbnRGYW1pbHksIGN1ci5mb250V2VpZ2h0LCBjdXIuZm9udFNoYXBlLCBjdXIuZm9udFNpemUsIGN1ci50ZXh0RGVjb3JhdGlvbl0uam9pbignICcpLnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltIVxuXG4gICAgIyBnZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgdmFsdWUgZm9yIGEgc3BlY2lmaWMgYXR0cmlidXRlLCBhbHNvIHRha2luZyBpbnRvIGFjY291bnQgaW5oZXJpdGFuY2UgZnJvbSBwYXJlbnQgZ3JvdXBzXG4gICAgIyByZXR1cm4gdGhlIGVtcHR5IHN0cmluZyBpZiB0aGUgYXR0cmlidXRlIHdhcyBuZXZlciBzZXRcbiAgICBfYWN0aXZlQXR0cmlidXRlVmFsdWU6IChhdHRyKSAtPlxuICAgICAgICAjIGZyb20gdG9wIHRvIGJvdHRvbSB1bnRpbCB0aGUgZmlyc3QgdmFsdWUgaXMgZm91bmRcbiAgICAgICAgZm9yIGxldmVsIGZyb20gQF9zdGFjay5sZW5ndGgtMSB0byAwIGJ5IC0xXG4gICAgICAgICAgICBpZiBAX3N0YWNrW2xldmVsXS5hdHRyc1thdHRyXVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGF0XG5cblxuXG5cbiAgICAjIyMgc2VjdGlvbmluZ1xuXG4gICAgc3RhcnRzZWN0aW9uOiAoc2VjLCBsZXZlbCwgc3RhciwgdG9jLCB0dGwpIC0+XG4gICAgICAgICMgY2FsbCBiZWZvcmUgdGhlIGFyZ3VtZW50cyBhcmUgcGFyc2VkIHRvIHJlZnN0ZXAgdGhlIGNvdW50ZXJcbiAgICAgICAgaWYgdG9jIH49IHR0bCB+PSB1bmRlZmluZWRcbiAgICAgICAgICAgIGlmIG5vdCBzdGFyIGFuZCBAY291bnRlcihcInNlY251bWRlcHRoXCIpID49IGxldmVsXG4gICAgICAgICAgICAgICAgQHN0ZXBDb3VudGVyIHNlY1xuICAgICAgICAgICAgICAgIEByZWZDb3VudGVyIHNlYywgXCJzZWMtXCIgKyBAbmV4dElkIVxuXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICAjIG51bWJlciB0aGUgc2VjdGlvbj9cbiAgICAgICAgaWYgbm90IHN0YXIgYW5kIEBjb3VudGVyKFwic2VjbnVtZGVwdGhcIikgPj0gbGV2ZWxcbiAgICAgICAgICAgIGlmIHNlYyA9PSBcXGNoYXB0ZXJcbiAgICAgICAgICAgICAgICBjaGFwaGVhZCA9IEBjcmVhdGUgQGJsb2NrLCBAbWFjcm8oXFxjaGFwdGVybmFtZSkgKysgKEBjcmVhdGVUZXh0IEBzeW1ib2wgXFxzcGFjZSkgKysgQG1hY3JvKFxcdGhlICsgc2VjKVxuICAgICAgICAgICAgICAgIGVsID0gQGNyZWF0ZSBAW3NlY10sIFtjaGFwaGVhZCwgdHRsXVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGVsID0gQGNyZWF0ZSBAW3NlY10sIEBtYWNybyhcXHRoZSArIHNlYykgKysgKEBjcmVhdGVUZXh0IEBzeW1ib2wgXFxxdWFkKSArKyB0dGwgICAjIGluIExhVGVYOiBcXEBzZWNjbnRmb3JtYXRcblxuICAgICAgICAgICAgIyB0YWtlIHRoZSBpZCBmcm9tIGN1cnJlbnRsYWJlbC5pZFxuICAgICAgICAgICAgZWwuaWQ/ID0gQF9zdGFjay50b3AuY3VycmVudGxhYmVsLmlkXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGVsID0gQGNyZWF0ZSBAW3NlY10sIHR0bFxuXG4gICAgICAgICMgZW50cnkgaW4gdGhlIFRPQyByZXF1aXJlZD9cbiAgICAgICAgIyBpZiBub3Qgc3RhciBhbmQgQGNvdW50ZXIoXCJ0b2NkZXB0aFwiKVxuICAgICAgICAjICAgICBUT0RPXG5cbiAgICAgICAgZWxcblxuICAgICMjIyBsaXN0c1xuXG4gICAgc3RhcnRsaXN0OiAtPlxuICAgICAgICBAc3RlcENvdW50ZXIgXFxAbGlzdGRlcHRoXG4gICAgICAgIGlmIEBjb3VudGVyKFxcQGxpc3RkZXB0aCkgPiA2XG4gICAgICAgICAgICBlcnJvciBcInRvbyBkZWVwbHkgbmVzdGVkXCJcblxuICAgICAgICB0cnVlXG5cbiAgICBlbmRsaXN0OiAhLT5cbiAgICAgICAgQHNldENvdW50ZXIgXFxAbGlzdGRlcHRoLCBAY291bnRlcihcXEBsaXN0ZGVwdGgpIC0gMVxuICAgICAgICBAY29udGludWUhXG5cblxuXG4gICAgIyMjIGxlbmd0aHNcblxuXG4gICAgbmV3TGVuZ3RoOiAobCkgIS0+XG4gICAgICAgIGVycm9yIFwibGVuZ3RoICN7bH0gYWxyZWFkeSBkZWZpbmVkIVwiIGlmIEBoYXNMZW5ndGggbFxuICAgICAgICBAX3N0YWNrLnRvcC5sZW5ndGhzLnNldCBsLCBATGVuZ3RoLnplcm9cblxuICAgIGhhc0xlbmd0aDogKGwpIC0+XG4gICAgICAgIEBfc3RhY2sudG9wLmxlbmd0aHMuaGFzIGxcblxuICAgIHNldExlbmd0aDogKGlkLCBsZW5ndGgpICEtPlxuICAgICAgICBlcnJvciBcIm5vIHN1Y2ggbGVuZ3RoOiAje2lkfVwiIGlmIG5vdCBAaGFzTGVuZ3RoIGlkXG4gICAgICAgICMgY29uc29sZS5sb2cgXCJzZXQgbGVuZ3RoOlwiLCBpZCwgbGVuZ3RoXG4gICAgICAgIEBfc3RhY2sudG9wLmxlbmd0aHMuc2V0IGlkLCBsZW5ndGhcblxuICAgIGxlbmd0aDogKGwpIC0+XG4gICAgICAgIGVycm9yIFwibm8gc3VjaCBsZW5ndGg6ICN7bH1cIiBpZiBub3QgQGhhc0xlbmd0aCBsXG4gICAgICAgICMgY29uc29sZS5sb2cgXCJnZXQgbGVuZ3RoOiAje2x9IC0+ICN7fVwiXG4gICAgICAgIEBfc3RhY2sudG9wLmxlbmd0aHMuZ2V0IGxcblxuICAgIHRoZUxlbmd0aDogKGlkKSAtPlxuICAgICAgICBsID0gQGNyZWF0ZSBAaW5saW5lLCB1bmRlZmluZWQsIFwidGhlXCJcbiAgICAgICAgbC5zZXRBdHRyaWJ1dGUgXCJkaXNwbGF5LXZhclwiLCBpZFxuICAgICAgICBsXG5cblxuXG5cblxuICAgICMjIyBMYVRlWCBjb3VudGVycyAoZ2xvYmFsKVxuXG4gICAgbmV3Q291bnRlcjogKGMsIHBhcmVudCkgIS0+XG4gICAgICAgIGVycm9yIFwiY291bnRlciAje2N9IGFscmVhZHkgZGVmaW5lZCFcIiBpZiBAaGFzQ291bnRlciBjXG5cbiAgICAgICAgQF9jb3VudGVycy5zZXQgYywgMFxuICAgICAgICBAX3Jlc2V0cy5zZXQgYywgW11cblxuICAgICAgICBpZiBwYXJlbnRcbiAgICAgICAgICAgIEBhZGRUb1Jlc2V0IGMsIHBhcmVudFxuXG4gICAgICAgIGVycm9yIFwibWFjcm8gXFxcXHRoZSN7Y30gYWxyZWFkeSBkZWZpbmVkIVwiIGlmIEBoYXNNYWNybyhcXHRoZSArIGMpXG4gICAgICAgIEBfbWFjcm9zW1xcdGhlICsgY10gPSAtPiBbIEBnLmFyYWJpYyBAZy5jb3VudGVyIGMgXVxuXG5cbiAgICBoYXNDb3VudGVyOiAoYykgLT5cbiAgICAgICAgQF9jb3VudGVycy5oYXMgY1xuXG4gICAgc2V0Q291bnRlcjogKGMsIHYpICEtPlxuICAgICAgICBlcnJvciBcIm5vIHN1Y2ggY291bnRlcjogI3tjfVwiIGlmIG5vdCBAaGFzQ291bnRlciBjXG4gICAgICAgIEBfY291bnRlcnMuc2V0IGMsIHZcblxuICAgIHN0ZXBDb3VudGVyOiAoYykgIS0+XG4gICAgICAgIEBzZXRDb3VudGVyIGMsIEBjb3VudGVyKGMpICsgMVxuICAgICAgICBAY2xlYXJDb3VudGVyIGNcblxuICAgIGNvdW50ZXI6IChjKSAtPlxuICAgICAgICBlcnJvciBcIm5vIHN1Y2ggY291bnRlcjogI3tjfVwiIGlmIG5vdCBAaGFzQ291bnRlciBjXG4gICAgICAgIEBfY291bnRlcnMuZ2V0IGNcblxuICAgIHJlZkNvdW50ZXI6IChjLCBpZCkgLT5cbiAgICAgICAgIyBjdXJyZW50bGFiZWwgaXMgbG9jYWwsIHRoZSBjb3VudGVyIGlzIGdsb2JhbFxuICAgICAgICAjIHdlIG5lZWQgdG8gc3RvcmUgdGhlIGlkIG9mIHRoZSBlbGVtZW50IGFzIHdlbGwgYXMgdGhlIGNvdW50ZXIgKFxcQGN1cnJlbnRsYWJlbClcbiAgICAgICAgIyBpZiBubyBpZCBpcyBnaXZlbiwgY3JlYXRlIGEgbmV3IGVsZW1lbnQgdG8gbGluayB0b1xuICAgICAgICBpZiBub3QgaWRcbiAgICAgICAgICAgIGlkID0gYyArIFwiLVwiICsgQG5leHRJZCFcbiAgICAgICAgICAgIGVsID0gQGNyZWF0ZSBAYW5jaG9yIGlkXG5cbiAgICAgICAgIyBjdXJyZW50bGFiZWwgc3RvcmVzIHRoZSBpZCBvZiB0aGUgYW5jaG9yIHRvIGxpbmsgdG8sIGFzIHdlbGwgYXMgdGhlIGxhYmVsIHRvIGRpc3BsYXkgaW4gYSBcXHJlZnt9XG4gICAgICAgIEBfc3RhY2sudG9wLmN1cnJlbnRsYWJlbCA9XG4gICAgICAgICAgICBpZDogaWRcbiAgICAgICAgICAgIGxhYmVsOiBAY3JlYXRlRnJhZ21lbnQgW1xuICAgICAgICAgICAgICAgIC4uLmlmIEBoYXNNYWNybyhcXHBAICsgYykgdGhlbiBAbWFjcm8oXFxwQCArIGMpIGVsc2UgW11cbiAgICAgICAgICAgICAgICAuLi5AbWFjcm8oXFx0aGUgKyBjKVxuICAgICAgICAgICAgXVxuXG4gICAgICAgIHJldHVybiBlbFxuXG5cbiAgICBhZGRUb1Jlc2V0OiAoYywgcGFyZW50KSAhLT5cbiAgICAgICAgZXJyb3IgXCJubyBzdWNoIGNvdW50ZXI6ICN7cGFyZW50fVwiIGlmIG5vdCBAaGFzQ291bnRlciBwYXJlbnRcbiAgICAgICAgZXJyb3IgXCJubyBzdWNoIGNvdW50ZXI6ICN7Y31cIiBpZiBub3QgQGhhc0NvdW50ZXIgY1xuICAgICAgICBAX3Jlc2V0cy5nZXQgcGFyZW50IC5wdXNoIGNcblxuICAgICMgcmVzZXQgYWxsIGRlc2NlbmRhbnRzIG9mIGMgdG8gMFxuICAgIGNsZWFyQ291bnRlcjogKGMpICEtPlxuICAgICAgICBmb3IgciBpbiBAX3Jlc2V0cy5nZXQgY1xuICAgICAgICAgICAgQGNsZWFyQ291bnRlciByXG4gICAgICAgICAgICBAc2V0Q291bnRlciByLCAwXG5cblxuICAgICMgZm9ybWF0dGluZyBjb3VudGVyc1xuXG4gICAgYWxwaDogKG51bSkgLT4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NiArIG51bSlcblxuICAgIEFscGg6IChudW0pIC0+IFN0cmluZy5mcm9tQ2hhckNvZGUoNjQgKyBudW0pXG5cbiAgICBhcmFiaWM6IChudW0pIC0+IFN0cmluZyhudW0pXG5cbiAgICByb21hbjogKG51bSkgLT5cbiAgICAgICAgbG9va3VwID1cbiAgICAgICAgICAgICogXFxtLCAgMTAwMFxuICAgICAgICAgICAgKiBcXGNtLCA5MDBcbiAgICAgICAgICAgICogXFxkLCAgNTAwXG4gICAgICAgICAgICAqIFxcY2QsIDQwMFxuICAgICAgICAgICAgKiBcXGMsICAxMDBcbiAgICAgICAgICAgICogXFx4YywgOTBcbiAgICAgICAgICAgICogXFxsLCAgNTBcbiAgICAgICAgICAgICogXFx4bCwgNDBcbiAgICAgICAgICAgICogXFx4LCAgMTBcbiAgICAgICAgICAgICogXFxpeCwgOVxuICAgICAgICAgICAgKiBcXHYsICA1XG4gICAgICAgICAgICAqIFxcaXYsIDRcbiAgICAgICAgICAgICogXFxpLCAgMVxuXG4gICAgICAgIF9yb21hbiBudW0sIGxvb2t1cFxuXG4gICAgUm9tYW46IChudW0pIC0+XG4gICAgICAgIGxvb2t1cCA9XG4gICAgICAgICAgICAqIFxcTSwgIDEwMDBcbiAgICAgICAgICAgICogXFxDTSwgOTAwXG4gICAgICAgICAgICAqIFxcRCwgIDUwMFxuICAgICAgICAgICAgKiBcXENELCA0MDBcbiAgICAgICAgICAgICogXFxDLCAgMTAwXG4gICAgICAgICAgICAqIFxcWEMsIDkwXG4gICAgICAgICAgICAqIFxcTCwgIDUwXG4gICAgICAgICAgICAqIFxcWEwsIDQwXG4gICAgICAgICAgICAqIFxcWCwgIDEwXG4gICAgICAgICAgICAqIFxcSVgsIDlcbiAgICAgICAgICAgICogXFxWLCAgNVxuICAgICAgICAgICAgKiBcXElWLCA0XG4gICAgICAgICAgICAqIFxcSSwgIDFcblxuICAgICAgICBfcm9tYW4gbnVtLCBsb29rdXBcblxuXG4gICAgX3JvbWFuID0gKG51bSwgbG9va3VwKSAtPlxuICAgICAgICByb21hbiA9IFwiXCJcblxuICAgICAgICBmb3IgaSBpbiBsb29rdXBcbiAgICAgICAgICAgIHdoaWxlIG51bSA+PSBpWzFdXG4gICAgICAgICAgICAgICAgcm9tYW4gKz0gaVswXVxuICAgICAgICAgICAgICAgIG51bSAtPSBpWzFdXG5cbiAgICAgICAgcmV0dXJuIHJvbWFuXG5cbiAgICBmbnN5bWJvbDogKG51bSkgLT5cbiAgICAgICAgc3dpdGNoIG51bVxuICAgICAgICB8ICAgMSAgID0+IEBzeW1ib2wgXFx0ZXh0YXN0ZXJpc2tjZW50ZXJlZFxuICAgICAgICB8ICAgMiAgID0+IEBzeW1ib2wgXFx0ZXh0ZGFnZ2VyXG4gICAgICAgIHwgICAzICAgPT4gQHN5bWJvbCBcXHRleHRkYWdnZXJkYmxcbiAgICAgICAgfCAgIDQgICA9PiBAc3ltYm9sIFxcdGV4dHNlY3Rpb25cbiAgICAgICAgfCAgIDUgICA9PiBAc3ltYm9sIFxcdGV4dHBhcmFncmFwaFxuICAgICAgICB8ICAgNiAgID0+IEBzeW1ib2wgXFx0ZXh0YmFyZGJsXG4gICAgICAgIHwgICA3ICAgPT4gQHN5bWJvbChcXHRleHRhc3Rlcmlza2NlbnRlcmVkKSArIEBzeW1ib2wgXFx0ZXh0YXN0ZXJpc2tjZW50ZXJlZFxuICAgICAgICB8ICAgOCAgID0+IEBzeW1ib2woXFx0ZXh0ZGFnZ2VyKSArIEBzeW1ib2wgXFx0ZXh0ZGFnZ2VyXG4gICAgICAgIHwgICA5ICAgPT4gQHN5bWJvbChcXHRleHRkYWdnZXJkYmwpICsgQHN5bWJvbCBcXHRleHRkYWdnZXJkYmxcbiAgICAgICAgfCAgIF8gICA9PiBlcnJvciBcImZuc3ltYm9sIHZhbHVlIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA5XCJcblxuXG4gICAgIyMjIGxhYmVsLCByZWZcblxuICAgICMgbGFiZWxzIGFyZSBwb3NzaWJsZSBmb3I6IHBhcnRzLCBjaGFwdGVycywgYWxsIHNlY3Rpb25zLCBcXGl0ZW1zLCBmb290bm90ZXMsIG1pbmlwYWdlLWZvb3Rub3RlcywgdGFibGVzLCBmaWd1cmVzXG4gICAgc2V0TGFiZWw6IChsYWJlbCkgIS0+XG4gICAgICAgIGVycm9yIFwibGFiZWwgI3tsYWJlbH0gYWxyZWFkeSBkZWZpbmVkIVwiIGlmIEBfbGFiZWxzLmhhcyBsYWJlbFxuXG4gICAgICAgIGlmIG5vdCBAX3N0YWNrLnRvcC5jdXJyZW50bGFiZWwuaWRcbiAgICAgICAgICAgIGNvbnNvbGUud2FybiBcIndhcm5pbmc6IG5vIFxcXFxAY3VycmVudGxhYmVsIGF2YWlsYWJsZSBmb3IgbGFiZWwgI3tsYWJlbH0hXCJcblxuICAgICAgICBAX2xhYmVscy5zZXQgbGFiZWwsIEBfc3RhY2sudG9wLmN1cnJlbnRsYWJlbFxuXG4gICAgICAgICMgZmlsbCBmb3J3YXJkIHJlZmVyZW5jZXNcbiAgICAgICAgaWYgQF9yZWZzLmhhcyBsYWJlbFxuICAgICAgICAgICAgZm9yIHIgaW4gQF9yZWZzLmdldCBsYWJlbFxuICAgICAgICAgICAgICAgIHdoaWxlIHIuZmlyc3RDaGlsZFxuICAgICAgICAgICAgICAgICAgICByLnJlbW92ZUNoaWxkIHIuZmlyc3RDaGlsZFxuXG4gICAgICAgICAgICAgICAgci5hcHBlbmRDaGlsZCBAX3N0YWNrLnRvcC5jdXJyZW50bGFiZWwubGFiZWwuY2xvbmVOb2RlIHRydWVcbiAgICAgICAgICAgICAgICByLnNldEF0dHJpYnV0ZSBcImhyZWZcIiwgXCIjXCIgKyBAX3N0YWNrLnRvcC5jdXJyZW50bGFiZWwuaWRcblxuICAgICAgICAgICAgQF9yZWZzLmRlbGV0ZSBsYWJlbFxuXG4gICAgIyBrZWVwIGEgcmVmZXJlbmNlIHRvIGVhY2ggcmVmIGVsZW1lbnQgaWYgbm8gbGFiZWwgaXMga25vd24geWV0LCB0aGVuIGFzIHdlIGdvIGFsb25nLCBmaWxsIGl0IHdpdGggbGFiZWxzXG4gICAgcmVmOiAobGFiZWwpIC0+XG4gICAgICAgICMgaHJlZiBpcyB0aGUgZWxlbWVudCBpZCwgY29udGVudCBpcyBcXHRoZTxjb3VudGVyPlxuICAgICAgICBpZiBAX2xhYmVscy5nZXQgbGFiZWxcbiAgICAgICAgICAgIHJldHVybiBAY3JlYXRlIEBsaW5rKFwiI1wiICsgdGhhdC5pZCksIHRoYXQubGFiZWwuY2xvbmVOb2RlIHRydWVcblxuICAgICAgICBlbCA9IEBjcmVhdGUgKEBsaW5rIFwiI1wiKSwgQGNyZWF0ZVRleHQgXCI/P1wiXG5cbiAgICAgICAgaWYgbm90IEBfcmVmcy5oYXMgbGFiZWxcbiAgICAgICAgICAgIEBfcmVmcy5zZXQgbGFiZWwsIFtlbF1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgQF9yZWZzLmdldCBsYWJlbCAucHVzaCBlbFxuXG4gICAgICAgIGVsXG5cblxuICAgIGxvZ1VuZGVmaW5lZFJlZnM6ICEtPlxuICAgICAgICByZXR1cm4gaWYgQF9yZWZzLnNpemUgPT0gMFxuXG4gICAgICAgIGtleXMgPSBAX3JlZnMua2V5cyFcbiAgICAgICAgd2hpbGUgbm90IChyZWYgPSBrZXlzLm5leHQhKS5kb25lXG4gICAgICAgICAgICBjb25zb2xlLndhcm4gXCJ3YXJuaW5nOiByZWZlcmVuY2UgJyN7cmVmLnZhbHVlfScgdW5kZWZpbmVkXCJcblxuICAgICAgICBjb25zb2xlLndhcm4gXCJUaGVyZSB3ZXJlIHVuZGVmaW5lZCByZWZlcmVuY2VzLlwiXG5cblxuICAgICMjIyBtYXJnaW5wYXJcblxuICAgIG1hcmdpbnBhcjogKHR4dCkgLT5cbiAgICAgICAgaWQgPSBAbmV4dElkIVxuXG4gICAgICAgIG1hcmdpblBhciA9IEBjcmVhdGUgQGJsb2NrLCBbQGNyZWF0ZShAaW5saW5lLCBudWxsLCBcIm1wYmFzZWxpbmVcIiksIHR4dF1cbiAgICAgICAgbWFyZ2luUGFyLmlkID0gaWRcblxuICAgICAgICBAX21hcmdpbnBhcnMucHVzaCBtYXJnaW5QYXJcblxuICAgICAgICBtYXJnaW5SZWYgPSBAY3JlYXRlIEBpbmxpbmUsIG51bGwsIFwibXBiYXNlbGluZVwiXG4gICAgICAgIG1hcmdpblJlZi5pZCA9IFwibWFyZ2lucmVmLVwiICsgaWRcblxuICAgICAgICBtYXJnaW5SZWZcbiJdfQ==
